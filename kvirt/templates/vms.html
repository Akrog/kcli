{% extends "layout.html" %}
{% block content %}

<div id="wheel"></div>
<div class='notifications top-right'></div>
<!--input type="checkbox" id="refresh" >Refresh !-->
<table id="vms" class="table table-striped table-bordered" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>Name</th>
                <th>Status</th>
                <th>Ips</th>
                <th>Source</th>
                <th>Description/Plan</th>
                <th>Profile</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for vm in vms %}
            {% if vm[3].startswith('rhel') %}
                {% set logo = 'Redhat.png' %}
            {% elif vm[3].startswith('CentOS') %}
                {% set logo = 'Centos.png' %}
            {% else %}
                {% set logo = 'Tux.png' %}
            {% endif %}
            <tr>
                {% if vm[1] == "down" %}
                    <td>{{ vm[0] }}</td>
                {% else %}
                    <td><img src="{{ url_for('static', filename='images/'+ logo) }}"/> {{ vm[0] }}</td>
                {% endif %}
                <td>{{ vm[1] }}</td>
                <td>{{ vm[2] }}</td>
                <td>{{ vm[3] }}</td>
                <td>{{ vm[4] }}</td>
                <td>{{ vm[5] }}</td>
                <td>
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="actions" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"><font size="1">Actions</font>
                    <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                        <li onclick="start('{{ vm[0] }}');"><span class="glyphicon glyphicon-play"></span> Start</li>
                        <li class="divider"></li>
                        <li onclick="stop('{{ vm[0] }}');"><span class="glyphicon glyphicon-stop"></span> Stop</li>
                        <li class="divider"></li>
                        <li onclick="delete('{{ vm[0] }}');"><span class="glyphicon glyphicon-trash"></span> Delete</li>
                    </ul></div>
                    <!--span class="glyphicon glyphicon-play" onclick="start('{{ vm[0] }}');"></span>
                    <span class="glyphicon glyphicon-stop" onclick="stop('{{ vm[0] }}');"></span>
                    <span class="glyphicon glyphicon-trash" onclick="kill('{{ vm[0] }}');"></span!-->
                </td>
            </tr>
            {% endfor %} 
        </tbody>
</table>

<script>
$(document).ready(function() {
$('#vms').dataTable();
//$('#vms').dataTable({
//   'columnDefs': [
//      {
//         'targets': 0,
//         'checkboxes': {
//            'selectRow': true
//         }
//      }
//   ],
//   'select': {
//      'style': 'multi'
//   },
//   'order': [[1, 'asc']]
//});
});
</script>
{% endblock %}
